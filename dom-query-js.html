<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport"
              content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
              integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
              crossorigin="anonymous">
        <title>DOM: Query and Modify</title>
    </head>
    <body class="container">
        <h1 id="main-header">Hello World!</h1>
        <ul>
            <li data-dbid="1">Item 1</li>
            <li data-dbid="2">Item 2</li>
            <li data-dbid="3">Item 3</li>
            <li data-dbid="4">Item 4</li>
            <li data-dbid="5">Item 5</li>
        </ul>
        <h2 id="sub-header">Hello Again.</h2>
        <p class="sub-paragraph">
            Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do
            eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim
            ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut
            aliquip ex ea commodo consequat. Duis aute irure dolor in
            reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
            pariatur. Excepteur sint occaecat cupidatat non proident, sunt in
            culpa qui officia deserunt mollit anim id est laborum.
        </p>
        <div class="container-fluid">
            <div id="button-container" class="row">

            </div>
        </div>


        <script>
			(function () {
					"use strict";
// *****************************************************************************************
					// Create array that contains each of the callback functions being used . maybe like about 4, 1 per button
					let callbackArray = [
						mainHeader,
                        subHeader,
                        listItems,
                        subParagraphs,
                        thisWebpageIsBoring
                    ];
					//Array Containing each button title
					let arrayOfButtonTitles = [
						'Change Main Header',
						'Change Sub-Header',
						'Change List Items',
						'Change Sub-Paragraphs',
						'Change Entire Website Style'
					];
					//Function to create buttons and append them into the div id = button-container
					//*****his Function is being called from inside buttonWhenClicked()****
					function createAndAppendButtons(array) {
						let arrayOfButtons = [];
						let buttonContainer = document.getElementById('button-container');

						//For each function in the Array - callBackArray - it creates a button with some class attributes and store those buttons in arrayOfButtons
						array.forEach((functionInArray) => {
							let currentIndex = array.indexOf(functionInArray);
							// buttonContainer = document.getElementById('button-container');
							arrayOfButtons[currentIndex] = document.createElement('button');
							let currentButton = arrayOfButtons[currentIndex];
							currentButton.setAttribute('class', 'col btn btn-info m-1');
							buttonContainer.appendChild(currentButton);
							// console.log ( buttonArray[array.indexOf(functionInArray)] );
						});
						//Once all buttons are stored in arrayOfButtons, call add ButtonsNames to add InnerText   to each button
						addButtonNames(arrayOfButtons);

						console.log(buttonContainer);
						console.log(arrayOfButtons);

						return arrayOfButtons;
					}

					// createAndAppendButtons(callbackArray);

// *************************Function will add appropriate button names**************************************

					function addButtonNames(arrayWithButtons) {
						//Add appropriate Button title according to current index
						for (let i = 0; i < arrayWithButtons.length; i++) {
								let button = document.getElementsByTagName('button');
								button[i].innerText = arrayOfButtonTitles[i];
						}
						// console.log('this is from function addButtonNames');
						// console.log(arrayWithButtons);
					}

// ********************** Function that contains all evens when button is clicked **************************

					function buttonWhenClicked(arrayWithFunctions) {
						let arrayWithButtons = createAndAppendButtons(arrayWithFunctions);
						arrayWithFunctions.forEach(arrayElement => {
							let currentIndex = arrayWithFunctions.indexOf(arrayElement);
							arrayWithButtons[currentIndex].addEventListener('click', arrayElement, {once: true});
						});
					}

					buttonWhenClicked(callbackArray);
					//button[].addListener('click', callbackArray[]);

// ********************* mainHeader() ******************************************************************

					// TODO: Uncomment next line and get the main header element by id
					// var mainHeader = document.getElementById(`main-header`);

					// TODO: Set inner html of mainHeader to "JavaScript is Cool"
					// mainHeader.innerText = `Javascript is Cool`

					//Writing a function for main header
					function mainHeader() {
						let mainHeader = document.getElementById('main-header')
						mainHeader.innerText = `Javascript is Cool`;
						console.log('Main Header Button Clicked and Activated');
						return true;
					}

// ********************* subHeader() ******************************************************************

					// TODO: Uncomment the next line and get the sub header element by id
					// var subHeader = document.getElementById(`sub-header`);

					// TODO: Set the text color of subHeader to blue
					// subHeader.style.color = 'blue';

					//Creating a Function for Sub-Header
					function subHeader() {
						let subHeader = document.getElementById('sub-header');
						subHeader.style.color = 'blue';
						console.log('Sub Header Button Clicked and Activated');
						return true;
					}

// ********************* listItems() ******************************************************************

					// TODO: Uncomment the next line and get all list items
					// var listItems = document.getElementsByTagName('li');

					// TODO: Set text color on every other list item to grey
					// listItems[0].style.color = 'grey';
					// listItems[2].style.color = 'grey';
					// listItems[4].style.color = 'grey';

					// TODO: Set text color of li with dbid = 1 to blue
					// let dBid1 = listItems[0];
					// console.log(dBid1);
					// dBid1.style.color = 'blue';

					//Creating a function for list Items
					function listItems() {
						let listItems = document.getElementsByTagName('li');
						listItems = [...listItems];
						listItems.forEach(listItem => {
							if (listItems.indexOf(listItem) % 2 !== 0) {
								listItem.style.color = 'grey'
							}
						});
						let lastListItem = listItems[0]
						lastListItem.style.color = 'blue';
						console.log('List Items Button Clicked and Activated');
						return true;
					}

// ********************* subParagraphs() ******************************************************************

					// TODO: Uncomment the next line and get all elements with class name sub-paragraph
					// var subParagraphs = document.getElementsByClassName('sub-paragraph');
					// console.log(subParagraphs);

					// TODO: Change the text in the first sub paragraph to "Mission Accomplished!"
					// subParagraphs[0].innerHTML = 'Mission Complete';

					function subParagraphs() {
						let subParagraphs = document.getElementsByClassName('sub-paragraph');
						subParagraphs[0].innerHTML = 'MISSION COMPLETE!';
						console.log('Sub Paragraphs Button Clicked and Activated');
						return true;
					}

// *******************************************************************************************************
                    // Styling using CSS and Bootstrap
                    function thisWebpageIsBoring () {
                        let bodyStylings = document.body.setAttribute('class', 'bg-');
						//UL Stylings
						let classUL = document.getElementsByTagName('ul');
                        classUL[0].setAttribute('class','list-group');
                        let classLi = document.getElementsByTagName('li');
                        classLi = [...classLi];
                        classLi.forEach(liElement => {
                            liElement.setAttribute('class', 'list-group-item border col-6 bg-secondary');
						});
                    }
				}
			)();
        </script>
    </body>
</html>
